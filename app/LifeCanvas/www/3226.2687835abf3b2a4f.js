"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3226],{3226:(F,v,f)=>{f.r(v),f.d(v,{JournalPageModule:()=>e});var c=f(2228),n=f(557),s=f(8521),p=f(4230),J=f(7791),h=f(9317),i=f(2687),_=f(7530);const o=[{path:"",component:(()=>{var t;class d{constructor(a,l,g){this.route=a,this.router=l,this.fileService=g,this.title="Journal"}ngOnInit(){this.route.queryParamMap.subscribe(a=>{const l=a.get("id");l?this.fileService.readJournal().then(g=>{let m=h.sE(g,function(P){return P.id==l});this.noteContent=m.data,this.title=m.title,this.id=m.id,this.date=m.date}):this.router.navigate(["/tabs"])})}editJournal(a){this.router.navigateByUrl("/editor?type=journal&id="+a)}deleteJournal(a){var l=this;return(0,J.Z)(function*(){yield l.fileService.deleteJournal(a),l.router.navigate(["/tabs/tab1"]).then()})()}}return(t=d).\u0275fac=function(a){return new(a||t)(i.Y36(p.gz),i.Y36(p.F0),i.Y36(_.I))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-journal"]],decls:25,vars:7,consts:[[3,"translucent"],["slot","start"],["size","12"],[3,"innerHTML"],["size","3"],["fill","outline",1,"mt-6",3,"click"],["size","2"]],template:function(a,l){1&a&&(i.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),i._UZ(3,"ion-back-button"),i.qZA(),i.TgZ(4,"ion-title"),i._uU(5),i.qZA()()(),i.TgZ(6,"ion-content")(7,"ion-card")(8,"ion-card-content")(9,"ion-row")(10,"ion-col",2)(11,"ion-label"),i._uU(12),i.ALo(13,"date"),i.qZA()()(),i.TgZ(14,"ion-row")(15,"ion-col",2),i._UZ(16,"ion-label",3),i.qZA()(),i.TgZ(17,"ion-grid")(18,"ion-row")(19,"ion-col",4)(20,"ion-button",5),i.NdJ("click",function(){return l.editJournal(l.id)}),i._uU(21," Edit "),i.qZA()(),i.TgZ(22,"ion-col",6)(23,"ion-button",5),i.NdJ("click",function(){return l.deleteJournal(l.id)}),i._uU(24," Delete "),i.qZA()()()()()()()),2&a&&(i.Q6J("translucent",!0),i.xp6(5),i.Oqu(l.title),i.xp6(7),i.Oqu(i.xi3(13,4,l.date,"short")),i.xp6(4),i.Q6J("innerHTML",l.noteContent,i.oJD))},dependencies:[s.YG,s.Sm,s.PM,s.FN,s.wI,s.W2,s.jY,s.Gu,s.Q$,s.Nd,s.wd,s.sr,s.oU,c.uU]}),d})()}];let r=(()=>{var t;class d{}return(t=d).\u0275fac=function(a){return new(a||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[p.Bz.forChild(o),p.Bz]}),d})(),e=(()=>{var t;class d{}return(t=d).\u0275fac=function(a){return new(a||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[c.ez,n.u5,s.Pc,r]}),d})()},7530:(F,v,f)=>{f.d(v,{I:()=>J});var c=f(7791),n=f(6712),s=f(9317),p=f(2687);let J=(()=>{var h;class i{constructor(){var y=this;this.saveNote=function(){var o=(0,c.Z)(function*(r,e,t){let u,d=yield y.readNotes();if(d&&d.length>0)if(u=d,null==t){let a=parseInt(s.Fp(u,function(l){return l.id}).id);a++,u.push({id:a,data:r,title:e})}else u.forEach(a=>{a.id==t&&(a.data=r,a.title=e)});else u=[{id:0,data:r,title:e}];yield n.fy.writeFile({path:"notes.json",data:JSON.stringify(u),directory:n.tP.External,encoding:n.ez.UTF8})});return function(r,e,t){return o.apply(this,arguments)}}(),this.readNotes=(0,c.Z)(function*(){try{const o=yield n.fy.readFile({path:"notes.json",directory:n.tP.External,encoding:n.ez.UTF8});return JSON.parse(o.data.toString())}catch{return null}}),this.deleteNote=function(){var o=(0,c.Z)(function*(r){var e=yield y.readNotes();e=s.d1(e,function(t){return t.id==r});try{yield n.fy.writeFile({path:"notes.json",data:JSON.stringify(e),directory:n.tP.External,encoding:n.ez.UTF8})}catch(t){console.error(t)}});return function(r){return o.apply(this,arguments)}}(),this.saveTask=function(){var o=(0,c.Z)(function*(r){let e=yield y.readTasks();if(e&&e.length>0)if(null==r.id){let t=parseInt(s.Fp(e,function(d){return d.id}).id);t++,r.id=t,e.push(r)}else e.forEach(t=>{t.id==r.id&&(t.tasks=r.tasks)});else r.id=0,e=[r];yield n.fy.writeFile({path:"tasks.json",data:JSON.stringify(e),directory:n.tP.External,encoding:n.ez.UTF8})});return function(r){return o.apply(this,arguments)}}(),this.readTasks=(0,c.Z)(function*(){try{const o=yield n.fy.readFile({path:"tasks.json",directory:n.tP.External,encoding:n.ez.UTF8});return JSON.parse(o.data.toString())}catch{return null}}),this.deleteTask=function(){var o=(0,c.Z)(function*(r){var e=yield y.readTasks();e=s.d1(e,function(t){return t.id==r});try{yield n.fy.writeFile({path:"tasks.json",data:JSON.stringify(e),directory:n.tP.External,encoding:n.ez.UTF8})}catch(t){console.error(t)}});return function(r){return o.apply(this,arguments)}}(),this.saveJournal=function(){var o=(0,c.Z)(function*(r,e,t){let u,d=yield y.readJournal(),a=new Date;if(d)if(u=d,null==t){let l=parseInt(s.Fp(u,function(g){return g.id}).id);l++,u.push({id:l,data:r,title:e,date:a})}else u.forEach(l=>{l.id==t&&(l.data=r,l.title=e,l.date=a)});else u=[{id:0,data:r,title:e,date:a}];yield n.fy.writeFile({path:"journal.json",data:JSON.stringify(u),directory:n.tP.External,encoding:n.ez.UTF8})});return function(r,e,t){return o.apply(this,arguments)}}(),this.readJournal=(0,c.Z)(function*(){try{const o=yield n.fy.readFile({path:"journal.json",directory:n.tP.External,encoding:n.ez.UTF8});return JSON.parse(o.data.toString())}catch{return null}}),this.deleteJournal=function(){var o=(0,c.Z)(function*(r){var e=yield y.readJournal();e=s.d1(e,function(t){return t.id==r});try{yield n.fy.writeFile({path:"journal.json",data:JSON.stringify(e),directory:n.tP.External,encoding:n.ez.UTF8})}catch(t){console.error(t)}});return function(r){return o.apply(this,arguments)}}(),this.readQuotes=(0,c.Z)(function*(){try{const o=yield n.fy.readFile({path:"quotes.json",directory:n.tP.External,encoding:n.ez.UTF8});return JSON.parse(o.data.toString())}catch{return null}}),this.saveQuote=function(){var o=(0,c.Z)(function*(r,e){let t=yield y.readQuotes();t&&t.length>0?t.push({quote:r,author:e}):t=[{quote:r,author:e}],yield n.fy.writeFile({path:"quotes.json",data:JSON.stringify(t),directory:n.tP.External,encoding:n.ez.UTF8})});return function(r,e){return o.apply(this,arguments)}}(),this.deleteQuotes=function(){var o=(0,c.Z)(function*(r){var e=yield y.readQuotes();e=s.d1(e,function(t){return t.quote==r});try{yield n.fy.writeFile({path:"quotes.json",data:JSON.stringify(e),directory:n.tP.External,encoding:n.ez.UTF8})}catch(t){console.error(t)}});return function(r){return o.apply(this,arguments)}}(),this.readAffirmations=(0,c.Z)(function*(){try{const o=yield n.fy.readFile({path:"affirmations.json",directory:n.tP.External,encoding:n.ez.UTF8});return JSON.parse(o.data.toString())}catch{return null}}),this.saveAffirmation=function(){var o=(0,c.Z)(function*(r){let e=yield y.readAffirmations();e&&e.length>0?e.push({affirmation:r}):e=[{affirmation:r}],yield n.fy.writeFile({path:"affirmations.json",data:JSON.stringify(e),directory:n.tP.External,encoding:n.ez.UTF8})});return function(r){return o.apply(this,arguments)}}(),this.deleteAffirmation=function(){var o=(0,c.Z)(function*(r){var e=yield y.readAffirmations();e=s.d1(e,function(t){return t.affirmation.quote==r});try{yield n.fy.writeFile({path:"affirmations.json",data:JSON.stringify(e),directory:n.tP.External,encoding:n.ez.UTF8})}catch(t){console.error(t)}});return function(r){return o.apply(this,arguments)}}()}}return(h=i).\u0275fac=function(y){return new(y||h)},h.\u0275prov=p.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),i})()}}]);